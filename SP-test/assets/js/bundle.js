!function(t){var e={};function n(a){if(e[a])return e[a].exports;var o=e[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/assets/js",n(n.s=0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";function a(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}n.r(e);var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._SHOWN="user-actions__basket-counter--shown",this._cartElement=e}var e,n,o;return e=t,(n=[{key:"checkBasket",value:function(t){t.length?(this._cartElement.classList.add(this._SHOWN),this._cartElement.textContent="".concat(t.length)):(this._cartElement.classList.remove(this._SHOWN),this._cartElement.textContent="")}}])&&a(e.prototype,n),o&&a(e,o),t}();function r(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var i=document.querySelector(".basket-info"),s=document.querySelector(".user-actions__basket-counter ");new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._basketContainer=i,this._basketElements=document.querySelector(".basket-info__items").children,this.cardCounter=new o(s),this.payInfo=document.querySelector(".pay-info__content"),this.PayInfoMap={subtotal:this.payInfo.querySelector(".pay-info__def--subtotal"),tax:this.payInfo.querySelector(".pay-info__def--tax"),shipping:this.payInfo.querySelector(".pay-info__def--shipping"),total:this.payInfo.querySelector(".pay-info__def--total")},this.Costs={TAX:100,SHIPPING:150},this.basketHandler=this.basketHandler.bind(this),this.cardCounter.checkBasket(this._basketElements),this.setInitialPayInfo(),this._basketContainer.addEventListener("click",this.basketHandler)}var e,n,a;return e=t,(n=[{key:"basketHandler",value:function(t){this.updateCard(t),this.removeBasketCard(t)}},{key:"updateCard",value:function(t){var e=this,n=t.target.closest(".basket-card__count-button");if(n){var a=n.dataset.operation,o=n.parentElement.querySelector(".basket-card__item-count"),r=n.parentElement.parentElement.querySelector(".basket-card__total-price"),i=r.dataset.price,s=this.getPriceOf(this.PayInfoMap.subtotal),c=this.getPriceOf(r);({dec:function(){o.textContent<=1||(o.textContent=+o.textContent-1,r.textContent="$".concat(c-+i),e.PayInfoMap.subtotal.textContent="$".concat(s-+i),e.PayInfoMap.total.textContent="$".concat(s+e.Costs.TAX+e.Costs.SHIPPING-+i))},inc:function(){o.textContent=+o.textContent+1,r.textContent="$".concat(c+ +i),e.PayInfoMap.subtotal.textContent="$".concat(s+ +i),e.PayInfoMap.total.textContent="$".concat(s+e.Costs.TAX+e.Costs.SHIPPING+ +i)}})[a]()}}},{key:"removeBasketCard",value:function(t){var e=t.target.closest(".basket-card__remove-button");if(e){var n=e.parentElement.parentElement.querySelector(".basket-card__total-price"),a=this.getPriceOf(n),o=this.getPriceOf(this.PayInfoMap.subtotal),r=this.getPriceOf(this.PayInfoMap.total);this.PayInfoMap.subtotal.textContent="$".concat(o-a),this.PayInfoMap.total.textContent="$".concat(r-a),e.parentElement.parentElement.remove(),this.cardCounter.checkBasket(this._basketElements),this.resetPriceInfo()}}},{key:"resetPriceInfo",value:function(){this._basketElements.length||(this.PayInfoMap.tax.textContent="$".concat(0),this.PayInfoMap.shipping.textContent="$".concat(0),this.PayInfoMap.total.textContent="$".concat(0))}},{key:"setInitialPayInfo",value:function(){this.PayInfoMap.subtotal.textContent="$".concat(this.getInitialCardsPrice()),this.PayInfoMap.tax.textContent="$".concat(this.Costs.TAX),this.PayInfoMap.shipping.textContent="$".concat(this.Costs.SHIPPING),this.PayInfoMap.total.textContent="$".concat(this.getInitialCardsPrice()+this.Costs.TAX+this.Costs.SHIPPING)}},{key:"getInitialCardsPrice",value:function(){return Array.from(document.querySelectorAll(".basket-card")).reduce((function(t,e){return t+=+e.querySelector(".basket-card__total-price").dataset.price}),0)}},{key:"getPriceOf",value:function(t){return t.textContent.includes("$")?parseInt(t.textContent.slice(1),10):parseInt(t.textContent.slice(),10)}}])&&r(e.prototype,n),a&&r(e,a),t}())(i)}]);