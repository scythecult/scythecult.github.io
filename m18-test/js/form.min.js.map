{"version":3,"sources":["form.js"],"names":["Form","constructor","this","_form","document","querySelector","_modalTemplate","content","boundModalKeydown","onModalKeydown","bind","boundFormSubmit","onFormSubmit","boundAddModalHandler","addModalHandler","addEventListener","evt","key","classList","remove","removeEventListener","element","renderModal","Promise","resolve","body","append","add","Input","elements","validity","valid","preventDefault","then","reset","form"],"mappings":"AAAA,aAAA,MAAMA,KACJC,cACEC,KAAKC,MAAQC,SAASC,cAAc,SACpCH,KAAKI,eAAiBF,SACnBC,cAAc,UACdE,QAAQF,cAAc,UACzBH,KAAKM,kBAAoBN,KAAKO,eAAeC,KAAKR,MAClDA,KAAKS,gBAAkBT,KAAKU,aAAaF,KAAKR,MAC9CA,KAAKW,qBAAuBX,KAAKY,gBAAgBJ,KAAKR,MAEtDA,KAAKC,MAAMY,iBAAiB,SAAUb,KAAKS,iBAG7CF,eAAeO,GACG,WAAZA,EAAIC,MACNf,KAAKI,eAAeY,UAAUC,OAAO,cACrCf,SAASgB,oBAAoB,UAAWlB,KAAKM,oBAGjDM,gBAAgBO,GACdA,EAAQN,iBAAiB,UAAWb,KAAKM,mBAE3Cc,cACE,OAAO,IAAIC,SAASC,IAClBpB,SAASqB,KAAKC,OAAOxB,KAAKI,gBAC1BJ,KAAKI,eAAeY,UAAUS,IAAI,cAClCH,EAAQpB,aAGZQ,aAAaI,GACX,MAAMY,EACM1B,KAAKC,MAAM0B,SAAS,GAAGA,SAAS,GADtCD,EAEG1B,KAAKC,MAAM0B,SAAS,GAAGA,SAAS,GAFnCD,EAGG1B,KAAKC,MAAM0B,SAAS,GAAGA,SAAS,GAIvCD,EAAeE,SAASC,OACxBH,EAAYE,SAASC,OACrBH,EAAYE,SAASC,QAErBf,EAAIgB,iBAEJ9B,KAAKoB,cAAcW,KAAK/B,KAAKW,sBAC7BX,KAAKC,MAAM+B,UAKjB,MAAMC,KAAO,IAAInC","file":"form.min.js","sourcesContent":["class Form {\n  constructor() {\n    this._form = document.querySelector(\".form\");\n    this._modalTemplate = document\n      .querySelector(\"#modal\")\n      .content.querySelector(\".modal\");\n    this.boundModalKeydown = this.onModalKeydown.bind(this);\n    this.boundFormSubmit = this.onFormSubmit.bind(this);\n    this.boundAddModalHandler = this.addModalHandler.bind(this);\n\n    this._form.addEventListener(\"submit\", this.boundFormSubmit);\n  }\n\n  onModalKeydown(evt) {\n    if (evt.key === \"Escape\") {\n      this._modalTemplate.classList.remove(\"modal-show\");\n      document.removeEventListener(\"keydown\", this.boundModalKeydown);\n    }\n  }\n  addModalHandler(element) {\n    element.addEventListener(\"keydown\", this.boundModalKeydown);\n  }\n  renderModal() {\n    return new Promise((resolve) => {\n      document.body.append(this._modalTemplate);\n      this._modalTemplate.classList.add(\"modal-show\");\n      resolve(document);\n    });\n  }\n  onFormSubmit(evt) {\n    const Input = {\n      fullname: this._form.elements[0].elements[0],\n      email: this._form.elements[0].elements[1],\n      phone: this._form.elements[0].elements[2],\n    };\n\n    if (\n      Input.fullname.validity.valid &&\n      Input.email.validity.valid &&\n      Input.phone.validity.valid\n    ) {\n      evt.preventDefault();\n      // отправляем данные на сервер, рисуем модальное окно\n      this.renderModal().then(this.boundAddModalHandler);\n      this._form.reset();\n    }\n  }\n}\n\nconst form = new Form();\n"]}