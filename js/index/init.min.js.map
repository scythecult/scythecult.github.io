{"version":3,"sources":["index/init.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","value","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","result","Super","_getPrototypeOf","NewTarget","this","Reflect","construct","arguments","apply","_possibleConstructorReturn","self","call","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","Listeners","_RenderElements","RenderElements","_super","data","elements","_ref","_this","projectsContainer","infoContainer","modal","querySelector","clearContainer","renderElements","projectCollection","boundOnDocumentClick","onDocumentClick","bind","boundOnDocumentKeydown","onDocumentKeydown","document","addEventListener","evt","Elements","project","closest","accButton","aboutMe","preventDefault","showModal","renderModalInfo","infoCollection","accordeon","accordeonCollection","closeModal","accordeonToggle","clearModal","button","content","parentElement","nextElementSibling","defContentHeight","offsetHeight","classList","toggle","contains","style","height","concat","add","focus","undefined","dataset","overlay","closemodal","remove","firstElementChild","removeEventListener","listeners","dataProjectTemplate","contentContainers"],"mappings":"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","file":"init.min.js","sourcesContent":["class Listeners extends RenderElements {\n  constructor(data, elements, { projectsContainer }) {\n    super(data, elements);\n    this.projectsContainer = projectsContainer;\n    this.infoContainer = this.modal.querySelector(\".modal__content\");\n\n    this.clearContainer(this.projectsContainer);\n    this.renderElements(this.projectsContainer, this.projectCollection);\n    this.renderElements(this.projectsContainer, this.modal);\n    this.boundOnDocumentClick = this.onDocumentClick.bind(this);\n    this.boundOnDocumentKeydown = this.onDocumentKeydown.bind(this);\n    document.addEventListener(\"click\", this.boundOnDocumentClick);\n  }\n\n  onDocumentClick(evt) {\n    const Elements = {\n      project: evt.target.closest(\".project__link\"),\n      modal: evt.target.closest(\".modal\"),\n      accButton: evt.target.closest(\".accordeon__button\"),\n      aboutMe: evt.target.closest(\".site-list__link--about\"),\n    };\n\n    if (\n      !Elements.project &&\n      !Elements.modal &&\n      !Elements.accButton &&\n      !Elements.aboutMe\n    ) {\n      return;\n    }\n\n    if (Elements.aboutMe) {\n      evt.preventDefault();\n      this.showModal();\n      this.renderElements(this.infoContainer, this.aboutMe);\n    }\n\n    if (Elements.project) {\n      evt.preventDefault();\n      this.showModal();\n      this.renderModalInfo(\n        this.infoCollection,\n        Elements.project,\n        this.infoContainer\n      );\n\n      const accordeon = this.modal.querySelector(\".accordeon\");\n\n      this.renderModalInfo(\n        this.accordeonCollection,\n        Elements.project,\n        accordeon\n      );\n    }\n\n    if (Elements.modal) {\n      this.closeModal(evt);\n    }\n\n    if (Elements.accButton) {\n      this.accordeonToggle(Elements.accButton);\n    }\n  }\n\n  onDocumentKeydown(evt) {\n    if (evt.key === \"Escape\") {\n      this.clearModal();\n    }\n  }\n\n  accordeonToggle(button) {\n    const content = button.parentElement.nextElementSibling;\n    const defContentHeight = content.querySelector(\".accordeon__def-content\")\n      .offsetHeight;\n    content.classList.toggle(\"accordeon__def--show\");\n\n    if (content.classList.contains(\"accordeon__def--show\")) {\n      content.style.height = `${defContentHeight}px`;\n    } else {\n      content.style.height = `${0}px`;\n    }\n  }\n\n  showModal() {\n    this.modal.classList.add(\"modal--show\");\n    this.infoContainer.classList.add(\"modal__content--show\");\n    this.infoContainer.focus();\n    document.addEventListener(\"keydown\", this.boundOnDocumentKeydown);\n  }\n\n  closeModal(evt) {\n    const { target } = evt;\n    if (\n      target.dataset.overlay !== undefined ||\n      target.dataset.closemodal !== undefined\n    ) {\n      this.clearModal();\n    }\n  }\n\n  clearModal() {\n    this.modal.classList.remove(\"modal--show\");\n    this.infoContainer.classList.remove(\"modal__content--show\");\n    this.clearContainer(this.infoContainer);\n    this.projectsContainer.firstElementChild.firstElementChild.focus();\n    document.removeEventListener(\"keydown\", this.boundOnDocumentKeydown);\n  }\n}\n\nconst listeners = new Listeners(\n  dataProjectTemplate,\n  elements,\n  contentContainers\n);\n"]}