{"version":3,"sources":["photo/photo-upload.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","PhotoUpload","this","_form","document","querySelector","_input","elements","filename","_preview","boundFileinput","onFileinputChange","bind","boundOnResetClick","onResetClick","addEventListener","value","evt","preventDefault","removeAttribute","setDataEffect","utils","mobileSlide","style","left","concat","removeActiveClass","effectButtons","ActiveMap","button","classList","add","_this","picturePath","URL","createObjectURL","files","src","onPreviewLoad","revokeObjectURL","removeEventListener"],"mappings":"AAAA,aAEA,SAASA,gBAAgBC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIC,UAAU,qCAEhH,SAASC,kBAAkBC,EAAQC,GAAS,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CAAE,IAAIE,EAAaH,EAAMC,GAAIE,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAMC,OAAOC,eAAeT,EAAQI,EAAWM,IAAKN,IAE7S,SAASO,aAAad,EAAae,EAAYC,GAAmJ,OAAhID,GAAYb,kBAAkBF,EAAYiB,UAAWF,GAAiBC,GAAad,kBAAkBF,EAAagB,GAAqBhB,EAEzM,IARMkB,YAQyB,WAP7B,SAAAA,IAAcpB,gBAAAqB,KAAAD,GACZC,KAAKC,MAAQC,SAASC,cAAc,qBACpCH,KAAKI,OAASJ,KAAKC,MAAMI,SAASC,SAClCN,KAAKO,SAAWL,SAASC,cAAc,0BACvCH,KAAKQ,eAAiBR,KAAKS,kBAAkBC,KAAKV,MAClDA,KAAKW,kBAAoBX,KAAKY,aAAaF,KAAKV,MAChDA,KAAKI,OAAOS,iBAAiB,SAAUb,KAAKQ,gBAC5CR,KAAKC,MAAMY,iBAAiB,QAASb,KAAKW,mBA8C5C,OA/BAhB,aAAaI,EAAa,CAAC,CACzBL,IAAK,eACLoB,MAdF,SAAaC,GACXA,EAAIC,iBACJhB,KAAKO,SAASU,gBAAgB,SAC9BjB,KAAKkB,gBACLC,MAAMC,YAAYC,MAAMC,KAAxB,GAAAC,OAAkC,GAAlC,KACAJ,MAAMK,kBAAkBL,MAAMM,cAAeN,MAAMO,UAAUC,QAC7DR,MAAMM,cAAc,GAAGG,UAAUC,IAAIV,MAAMO,UAAUC,UAkBpD,CACDjC,IAAK,oBACLoB,MAjBF,SAAkBC,GAAK,IAAAe,EAAA9B,KACf+B,EAAcC,IAAIC,gBAAgBjC,KAAKI,OAAO8B,MAAM,IAC1DlC,KAAKO,SAAS4B,IAAMJ,EACpBhB,EAAI/B,OAAO8B,MAAQ,GAOnBd,KAAKO,SAASM,iBAAiB,QANT,SAAhBuB,IACJJ,IAAIK,gBAAgBN,GAEpBD,EAAKvB,SAAS+B,oBAAoB,OAAQF,UA2BvCrC,EA9CsB","file":"photo-upload.min.js","sourcesContent":["class PhotoUpload {\n  constructor() {\n    this._form = document.querySelector(\".upload-app__form\");\n    this._input = this._form.elements.filename;\n    this._preview = document.querySelector(\".upload-photo__preview\");\n    this.boundFileinput = this.onFileinputChange.bind(this);\n    this.boundOnResetClick = this.onResetClick.bind(this);\n    this._input.addEventListener(\"change\", this.boundFileinput);\n    this._form.addEventListener(\"reset\", this.boundOnResetClick);\n  }\n\n  onResetClick(evt) {\n    evt.preventDefault();\n    this._preview.removeAttribute(\"style\");\n    this.setDataEffect();\n    utils.mobileSlide.style.left = `${50}%`;\n    utils.removeActiveClass(utils.effectButtons, utils.ActiveMap.button);\n    utils.effectButtons[0].classList.add(utils.ActiveMap.button);\n  }\n\n  onFileinputChange(evt) {\n    const picturePath = URL.createObjectURL(this._input.files[0]);\n    this._preview.src = picturePath;\n    evt.target.value = \"\";\n    const onPreviewLoad = () => {\n      URL.revokeObjectURL(picturePath);\n\n      this._preview.removeEventListener(\"load\", onPreviewLoad);\n    };\n\n    this._preview.addEventListener(\"load\", onPreviewLoad);\n  }\n}\n"]}