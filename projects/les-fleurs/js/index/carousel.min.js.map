{"version":3,"sources":["index/carousel.js"],"names":["_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","return","minLen","_arrayLikeToArray","Object","prototype","toString","call","slice","constructor","name","from","test","arr","len","arr2","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","Carousel","container","this","_photoCountFrom","querySelector","_photoCountTo","_photosContainer","_photoElements","children","_controlsContainer","_CONSTS","COUNTER_START","PHOTO_LENGTH","PHOTO_ACTIVE","CONTROL_CURRENT","_photo","counter","controlElementCollection","createControlElements","controlElements","init","initListeners","setCounterStartValue","clearContainer","render","querySelectorAll","photoFirstElement","controlFirstElement","addClassName","setDataIdAttribute","_this","addEventListener","evt","preventDefault","pictureElement","closest","clearElementsClassName","classList","add","setCounterValue","dot","dotID","parseInt","dataset","id","sameClickedElement","getClickedById","incElement","parsedId","textContent","concat","collection","clicked","find","element","elements","className","_step","_iterator","contains","remove","markup","where","arguments","undefined","insertAdjacentHTML","innerHTML","count","_this2","fill","map","controlMarkup","join","_step2","index","_iterator2","setAttribute","settings","dried","document","compose","eatable","regular"],"mappings":"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","file":"carousel.min.js","sourcesContent":["class Carousel {\n  constructor(container) {\n    this.container = container;\n    this._photoCountFrom = this.container.querySelector(\".work-gallery__from\");\n    this._photoCountTo = this.container.querySelector(\".work-gallery__to\");\n    this._photosContainer = this.container.querySelector(\n      \".work-gallery__carousel\"\n    );\n    this._photoElements = this.container.querySelector(\n      \".work-gallery__carousel\"\n    ).children;\n    this._controlsContainer = this.container.querySelector(\n      \".work-gallery__controls\"\n    );\n    this._CONSTS = {\n      COUNTER_START: 1,\n      PHOTO_LENGTH: this._photoElements.length,\n      PHOTO_ACTIVE: \"work-gallery__active\",\n      CONTROL_CURRENT: \"work-gallery__control--current\",\n    };\n    this._photo = {\n      counter: 1,\n    };\n    this.controlElementCollection = this.createControlElements(\n      this._CONSTS.PHOTO_LENGTH\n    );\n    this.controlElements;\n\n    this.init();\n    this.initListeners();\n  }\n\n  init() {\n    this.setCounterStartValue();\n    this.clearContainer(this._controlsContainer);\n    this.render(this._controlsContainer, this.controlElementCollection);\n    this.controlElements = this.container.querySelectorAll(\n      \".work-gallery__control\"\n    );\n    const photoFirstElement = this._photoElements[0];\n    const controlFirstElement = this.controlElements[0];\n    this.addClassName(photoFirstElement, this._CONSTS.PHOTO_ACTIVE);\n    this.addClassName(controlFirstElement, this._CONSTS.CONTROL_CURRENT);\n    this.setDataIdAttribute(this._photoElements);\n    this.setDataIdAttribute(this.controlElements);\n  }\n\n  initListeners() {\n    const onDotClick = (evt) => {\n      evt.preventDefault();\n      const dot = evt.target.closest(\".work-gallery__control\");\n\n      if (!dot) return;\n      if (dot) {\n        const dotID = parseInt(dot.dataset.id, 10);\n        this.clearElementsClassName(\n          this.controlElements,\n          this._CONSTS.CONTROL_CURRENT\n        );\n        this.addClassName(dot, this._CONSTS.CONTROL_CURRENT);\n        const sameClickedElement = this.getClickedById(\n          this._photoElements,\n          dot\n        );\n        this.clearElementsClassName(\n          this._photoElements,\n          this._CONSTS.PHOTO_ACTIVE\n        );\n        this.addClassName(sameClickedElement, this._CONSTS.PHOTO_ACTIVE);\n        this.setCounterValue(dotID + 1);\n        this._photo.counter = dotID + 1;\n      }\n    };\n\n    const onPhotoClick = (evt) => {\n      evt.preventDefault();\n      const pictureElement = evt.target.closest(\"li\");\n      const getNextPicture = () => {\n        if (this._photo.counter >= this._CONSTS.PHOTO_LENGTH) {\n          this._photo.counter = 0;\n        }\n\n        this.clearElementsClassName(\n          this.controlElements,\n          this._CONSTS.CONTROL_CURRENT\n        );\n\n        this.controlElements[this._photo.counter].classList.add(\n          this._CONSTS.CONTROL_CURRENT\n        );\n\n        this._photoElements[this._photo.counter++].classList.add(\n          this._CONSTS.PHOTO_ACTIVE\n        );\n      };\n      if (!pictureElement) return;\n      if (pictureElement) {\n        this.clearElementsClassName(\n          this._photoElements,\n          this._CONSTS.PHOTO_ACTIVE\n        );\n        getNextPicture();\n        this.setCounterValue(this._photo.counter);\n      }\n    };\n\n    this._photosContainer.addEventListener(\"click\", onPhotoClick);\n    this._controlsContainer.addEventListener(\"click\", onDotClick);\n  }\n\n  setCounterValue(incElement) {\n    const parsedId = parseInt(incElement, 10);\n    this._photoCountFrom.textContent = `${parsedId}`;\n  }\n\n  setCounterStartValue() {\n    this._photoCountFrom.textContent = `${this._CONSTS.COUNTER_START}`;\n    this._photoCountTo.textContent = `${this._CONSTS.PHOTO_LENGTH}`;\n  }\n\n  getClickedById(collection, clicked) {\n    return Array.from(collection).find(\n      (element) => element.dataset.id === clicked.dataset.id\n    );\n  }\n\n  clearElementsClassName(elements, className) {\n    for (const element of elements) {\n      if (element.classList.contains(className)) {\n        element.classList.remove(className);\n      }\n    }\n  }\n\n  addClassName(element, className) {\n    element.classList.add(className);\n  }\n\n  render(container, markup, where = \"beforeend\") {\n    container.insertAdjacentHTML(where, markup);\n  }\n\n  clearContainer(container) {\n    container.innerHTML = \"\";\n  }\n\n  createControlElements(count) {\n    return new Array(count)\n      .fill(\"\")\n      .map((element) => (element = this.controlMarkup()))\n      .join(\"\\n\");\n  }\n\n  controlMarkup() {\n    return `\n    <li>\n    <button class=\"work-gallery__control\" type=\"button\"><span\n    class=\"visually-hidden\">Переключение\n    слайда</span></button>\n    </li>\n    `;\n  }\n\n  setDataIdAttribute(elements) {\n    let index = 0;\n    for (const element of elements) {\n      element.setAttribute(`data-id`, `${index++}`);\n    }\n  }\n}\n\nconst settings = {\n  dried: document.querySelector(\".work-gallery.work-gallery--dried\"),\n  compose: document.querySelector(\".work-gallery.work-gallery--compose\"),\n  eatable: document.querySelector(\".work-gallery.work-gallery--eatable\"),\n  regular: document.querySelector(\".work-gallery.work-gallery--regular\"),\n};\n\nnew Carousel(settings.dried);\nnew Carousel(settings.compose);\nnew Carousel(settings.eatable);\nnew Carousel(settings.regular);\n"]}