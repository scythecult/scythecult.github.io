{"version":3,"sources":["index/components/compare-slider.js"],"names":["Object","defineProperty","exports","value","onPinMousedown","_utils","require","MAX_WIDTH_VALUE","PAD","Coords","x","this","evt","preventDefault","pin","target","closest","startCoords","clientX","onPinMousemove","moveEvt","shift","pinX","offsetLeft","proportion","Math","round","CompareMap","sliderBar","offsetWidth","style","left","concat","picture","width","document","addEventListener","onPinMouseup","removeEventListener"],"mappings":"AAAA,aAEAA,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,OAAO,IAETD,QAAQE,oBAAiB,EALzB,IAAAC,OAAAC,QAAA,cAEMC,gBAAkB,IAClBC,IAAM,EACNC,OAAS,SAAUC,GACvBC,KAAKD,EAAIA,GAGEN,eAAiB,SAACQ,GAC7BA,EAAIC,iBACJ,IAAMC,EAAMF,EAAIG,OAAOC,QAAQ,iBAE/B,GAAKF,EAAL,CACA,IAAMG,EAAc,IAAIR,OAAOG,EAAIM,SAC7BC,EAAiB,SAACC,GACtB,IAAMC,EAAQ,IAAIZ,OAAOQ,EAAYP,EAAIU,EAAQF,SAC3CI,EAAOR,EAAIS,WAAaF,EAAMX,EAC9Bc,EAAaC,KAAKC,MACtBnB,gBACGe,GAAQK,OAAAA,WAAWC,UAAUC,YAAcf,EAAIe,aAC9CtB,iBAGNU,EAAYP,EAAIU,EAAQF,QAIpBI,EAAOd,KACPc,EAAOK,OAAAA,WAAWC,UAAUC,YAAcf,EAAIe,YAAcrB,MAG9DM,EAAIgB,MAAMC,KAAV,GAAAC,OAAoBlB,EAAIS,WAAaF,EAAMX,EAA3C,MACAiB,OAAAA,WAAWM,QAAQH,MAAMI,MAAzB,GAAAF,OAAoCR,EAApC,OASJW,SAASC,iBAAiB,YAAajB,GACvCgB,SAASC,iBAAiB,WANL,SAAfC,IACJF,SAASG,oBAAoB,YAAanB,GAC1CgB,SAASG,oBAAoB,UAAWD,QAK5CnC,QAAQE,eAAiBA","file":"compare-slider.min.js","sourcesContent":["import { CompareMap } from \"./utils.js\";\n\nconst MAX_WIDTH_VALUE = 100;\nconst PAD = 5;\nconst Coords = function (x) {\n  this.x = x;\n};\n\nexport const onPinMousedown = (evt) => {\n  evt.preventDefault();\n  const pin = evt.target.closest(\".compare__pin\");\n\n  if (!pin) return;\n  const startCoords = new Coords(evt.clientX);\n  const onPinMousemove = (moveEvt) => {\n    const shift = new Coords(startCoords.x - moveEvt.clientX);\n    const pinX = pin.offsetLeft - shift.x;\n    const proportion = Math.round(\n      MAX_WIDTH_VALUE -\n        (pinX / (CompareMap.sliderBar.offsetWidth - pin.offsetWidth)) *\n          MAX_WIDTH_VALUE\n    );\n\n    startCoords.x = moveEvt.clientX;\n\n    if (\n      !(\n        pinX < PAD ||\n        pinX > CompareMap.sliderBar.offsetWidth - pin.offsetWidth - PAD\n      )\n    ) {\n      pin.style.left = `${pin.offsetLeft - shift.x}px`;\n      CompareMap.picture.style.width = `${proportion}%`;\n    }\n  };\n\n  const onPinMouseup = () => {\n    document.removeEventListener(\"mousemove\", onPinMousemove);\n    document.removeEventListener(\"mouseup\", onPinMouseup);\n  };\n\n  document.addEventListener(\"mousemove\", onPinMousemove);\n  document.addEventListener(\"mouseup\", onPinMouseup);\n};\n"]}