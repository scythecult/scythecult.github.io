"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,s){return t&&_defineProperties(e.prototype,t),s&&_defineProperties(e,s),e}var Compare=function(){function e(){_classCallCheck(this,e),this.ValueMap={MAX_PRECENT:100},this.sliderPin=document.querySelector(".compare__slide-button"),this.slideRange=document.querySelector(".compare__range"),this.progressBar=document.querySelector(".compare__progress-bar"),this.photo=document.querySelector(".compare__image--before"),this.controls=document.querySelector(".compare__controls"),this.mql=window.matchMedia("(min-width: 768px)"),this.boundControls=this.onControlsClick.bind(this),this.boundSlide=this.onSlideMouseDown.bind(this),this.boundMql=this.mqlHandler.bind(this),this.controls.addEventListener("click",this.boundControls),this.sliderPin.addEventListener("mousedown",this.boundSlide),this.mql.addEventListener("change",this.boundMql),this.mqlHandler(this.mql)}return _createClass(e,[{key:"mqlHandler",value:function(e){e.matches,this.setSliderDefaults()}},{key:"setSliderDefaults",value:function(){this.photo.style.width="".concat(this.ValueMap.MAX_PRECENT/2,"%"),this.sliderPin.style.left="".concat(this.slideRange.offsetWidth/2,"px"),this.progressBar.style.width="".concat(this.slideRange.offsetWidth/2,"px")}},{key:"onSlideMouseDown",value:function(e){var t=this;e.preventDefault();var s=new n(e.clientX),i=function(e){e.preventDefault();var i=new n(s.x-e.clientX),o=t.sliderPin.offsetLeft-i.x;if(s=new n(e.clientX),!(o<0||o>t.slideRange.offsetWidth-t.sliderPin.offsetWidth)){var r=o/t.slideRange.offsetWidth;t.sliderPin.style.left="".concat(t.sliderPin.offsetLeft-i.x,"px"),t.progressBar.style.width="".concat(t.sliderPin.offsetLeft-i.x,"px"),t.photo.style.width="".concat(Math.round(r*t.ValueMap.MAX_PRECENT),"%")}};function n(e){this.x=e}document.addEventListener("mousemove",i),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",i),document.removeEventListener("mousemove",e)}))}},{key:"onControlsClick",value:function(e){e.preventDefault();var t=e.target.closest(".compare__text--before"),s=e.target.closest(".compare__text--after");(t||s)&&(t&&this.setBeforeStatement(),s&&this.setAfterStatement())}},{key:"setBeforeStatement",value:function(){this.photo.style.width="".concat(0,"%"),this.sliderPin.style.left="".concat(0,"px"),this.progressBar.style.width="".concat(0,"px")}},{key:"setAfterStatement",value:function(){this.photo.style.width="".concat(this.ValueMap.MAX_PRECENT,"%"),this.sliderPin.style.left="".concat(this.slideRange.offsetWidth-this.sliderPin.offsetWidth,"px"),this.progressBar.style.width="".concat(this.slideRange.offsetWidth-this.sliderPin.offsetWidth,"px")}}]),e}(),compare=new Compare;
//# sourceMappingURL=compare.min.js.map
